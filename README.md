#### Document
- [요구사항](#요구사항)
- [기술스택](#기술스택)
- [서버관리](#서버관리)
- [플로우차트](#플로우차트)
- [스토리보드](#스토리보드)
- [트러블슈팅](#트러블슈팅)

---
### 요구사항
- 이슈와 해결방법 : 건강에 대한 기업들에게 질병유형 통계 서비스
- 서비스 장점 : 
  1) 지속적인 건강에 대한 관심, 평균수명의 증가에 맞물려 기업들의 관심에 대해 명확한 가이드를 제공하기 위한 통계 서비스
  2) 흡연, 음주와 같은 다양한 변수상황에 웹서비스로 통계데이터를 직관적으로 볼 수 있는 그래프 설명 서비스
---
### 기술스택

- 개발환경
  - git / github : 모델과 데이터 소스 형상관리 툴 사용
  - python3.9 / anaconda : 딕셔너리 병합과 type hint를 활용하여 데이터 처리에 용이한 함수를 작성하고 머신러닝에 필요한 라이브러리를 정리하고 관리할 수 있는 anaconda 환경 구성
  - pyCharm / jupyter lab : 기존 인텔리제이의 UI와 비슷한 pyCharm 활용 및 터미널, 패키지관리 및 기본적으로 제공하는 서드파티 활용, jupyter note와 비슷한 lab을 사용하여 패키지 관리 및 py파일 관리

- 서버환경
  - flask : 핵심 그래프 출력 라이브러리 dash가 사용하는 웹프레임워크 flask를 동일하게 구성하여 일반 html과 dash를 부드럽게 연동하기 위해 사용

- 사용기술
  - Pandas / Plotly (Dash) : 2차원 dataframe를 활용한 프로젝트에 적합한 pandas를 활용도 높게 사용할 수 있는 ploty활용
---
### 서버관리
| 포트 번호  | 서버                       | 
|--------|--------------------------|
| 8050 | 메인 페이지 서버                | 
| 8051 | 데이터 선택 페이지 서버            | 
| 8052 | 전체 데이터 시각화 페이지 서버        |
| 8053 | 흡연상태 관련 데이터 시각화 페이지 서버   | 
| 8054 | 음주여부 관련 데이터 시각화 페이지 서버   |
| 8055 | BMI 단계 관련 데이터 시각화 페이지 서버 |

---
### 플로우차트
![이미지제목](/static/images/flowChart.png)

---
### 스토리보드
![이미지제목](/static/images/스토리보드1.png)
![이미지제목](/static/images/스토리보드2.png)
![이미지제목](/static/images/스토리보드3.png)
---
### 트러블슈팅


| 진행상황   | 이슈                         | 해결                       | 완료날짜       |
|--------|----------------------------|--------------------------|------------|
| closed | 그래프 페이지를 비교하면서 수정하는 부분과 서비스 배포 관리 기획  | 서비스 페이지 마다 flask서버를 올려서 실행하여 특정 페이지만 다운되더라도 지속적 서비스  | 2022-12-30 |_
| closed | 단순 분기점을 위한 콜백함수 사용함에 리소스 낭비 | Dash의 title 매개변수로 분기점 활용 | 2022-12-22 |
| closed | 특정 조건(흡연, 음주) 상태에 따른 그래프 표기 기획 | 매개변수에 따른 그래프 출력을 topbar에 표기하여 분류관리 | 2022-12-17 |
| closed | 그래프 출력 용도로 사용하는 데이터 처리으로 로딩속도 저하 |  전처리를 미리 하고 난 뒤 csv를 저장하고 서버 실행시 불러오는 구조로 변경 | 2022-12-13 |_
| closed | 데이터 인코딩 이슈 |데이터 저장할 때, 불러 올 때 일관적인 인코딩 CP949사용 | 2022-12-12 |